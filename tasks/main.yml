---
# tasks file for oracle-database
- include: validate.yml
  when: not oracle_database_already_installed

- include: prepare-OracleLinux.yml
  become: yes
  when: ansible_distribution == 'OracleLinux' and not oracle_database_already_installed

- include: prepare.yml
  become: yes
  when: ansible_distribution != 'OracleLinux' and not oracle_database_already_installed

- name: install oracle database
  include: install-{{ oracle_database_version }}.yml
  become: yes
  become_user: "{{ oracle_database_user }}"
  when: not oracle_database_already_installed

#- name: create listener oracle database
#  include: configure-listener.yml
#  become: yes
#  become_user: "{{ oracle_database_user }}"
#  tags:
#    - listener

#- name: configure instance oracle database
#  include: configure-instance.yml
#  become: yes
#  become_user: "{{ oracle_database_user }}"
#  tags:
#    - instance

#- name: configure instance service
#  include: configure-instance-service.yml
#  become: yes
#  tags:
#    - configureservice
